---
name: backtest
description: 트레이딩 전략 백테스팅 실행 및 성과 분석
tags: [trading, backtest, analysis]
---

# /backtest - 백테스팅 실행

기존 전략 또는 새로운 전략을 과거 데이터로 백테스팅합니다.

## 사용법

```
/backtest [전략명 또는 파일 경로] [옵션]
```

## 예시

```
/backtest ma-crossover

/backtest src/strategies/rsi-strategy.py

/backtest ma-crossover --symbol 005930 --start 2023-01-01 --end 2024-12-31

/backtest 볼린저밴드전략 --capital 10000000
```

## 옵션

- `--symbol`: 종목 코드 (기본값: 005930)
- `--start`: 시작 날짜 (기본값: 1년 전)
- `--end`: 종료 날짜 (기본값: 오늘)
- `--capital`: 초기 자본 (기본값: 10,000,000원)

## 작업 프로세스

1. **전략 로드**
   - 전략 파일 찾기 또는 전략명으로 조회
   - 전략 코드 검증

2. **데이터 준비**
   - 과거 가격 데이터 로드
   - 기술 지표 계산

3. **시뮬레이션 실행**
   - 거래 시뮬레이션
   - 수익/손실 계산

4. **성과 분석**
   - 총 수익률
   - 연환산 수익률
   - Sharpe Ratio
   - 최대 낙폭 (MDD)
   - 승률

5. **리포트 생성**
   - 수익 곡선 차트
   - 거래 내역
   - 성과 지표 요약
   - 면책조항

## 출력 예시

```markdown
# 백테스팅 결과

## 전략 개요
- 이름: MA Cross (20/50)
- 종목: 삼성전자 (005930)
- 기간: 2023-01-01 ~ 2024-12-31
- 초기 자본: ₩10,000,000

## 수익성 지표
- 총 수익률: +15.2%
- 연환산 수익률: +7.8%
- 최종 자산: ₩11,520,000
- 순이익: ₩1,520,000

## 리스크 지표
- Sharpe Ratio: 1.2
- 최대 낙폭 (MDD): -8.5%
- 변동성: 12.3%

## 거래 통계
- 총 거래 횟수: 24회
- 승률: 58.3% (14승 10패)
- 평균 수익: +3.2%
- 평균 손실: -1.8%
- 손익비: 1.78

---
※ 본 결과는 과거 데이터 기반 시뮬레이션이며, 미래 수익을 보장하지 않습니다.
※ 실제 투자 시 슬리피지, 수수료 등으로 결과가 달라질 수 있습니다.
※ 투자 결정은 본인 책임입니다.
```

## 관련 파일

- `src/lib/backtest/backtester.ts` - 백테스팅 엔진
- `src/lib/backtest/performance.ts` - 성과 계산
- `src/lib/data/historical.ts` - 과거 데이터 로드

---

당신은 HEPHAITOS의 백테스팅 전문가입니다.

전략을 과거 데이터로 시뮬레이션하고 성과를 분석하세요.

**반드시 포함할 내용:**
1. 전략 개요
2. 수익성 지표
3. 리스크 지표
4. 거래 통계
5. 수익 곡선 차트
6. 면책조항

**면책조항 필수:**
```
※ 본 결과는 과거 데이터 기반 시뮬레이션입니다.
※ 실제 투자 시 결과가 다를 수 있습니다.
※ 투자 결정은 본인 책임입니다.
```
