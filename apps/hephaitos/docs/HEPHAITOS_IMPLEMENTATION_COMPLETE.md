# HEPHAITOS 2.0 êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

> **ì‘ì„±ì¼**: 2025-12-13
> **ë²„ì „**: 2.0 MVP
> **TypeScript ë¹Œë“œ**: âœ… ì„±ê³µ

---

## ğŸ“Š êµ¬í˜„ ì™„ë£Œ í˜„í™©

### í•µì‹¬ ëª¨ë“ˆ êµ¬í˜„ (100%)

| ëª¨ë“ˆ | íŒŒì¼ | ìƒíƒœ | ì„¤ëª… |
|------|------|------|------|
| **ìì—°ì–´ Agent** | `src/lib/agent/` | âœ… | Replit ìŠ¤íƒ€ì¼ ìì—°ì–´ â†’ ì „ëµ ë³€í™˜ |
| **Trade Executor** | `src/lib/trading/executor.ts` | âœ… | ì‹¤ê±°ë˜/í˜ì´í¼ íŠ¸ë ˆì´ë”© ë¸Œë¦¿ì§€ |
| **API Key Encryption** | `src/lib/trading/crypto.ts` | âœ… | AES-256-GCM ì•”í˜¸í™” |
| **AI Report Generator** | `src/lib/ai/report-generator.ts` | âœ… | ì‹œì¥ ë¶„ì„ & íƒ€ì  ë¦¬í¬íŠ¸ |
| **Simulation Account** | `src/lib/simulation/account.ts` | âœ… | ê°€ìƒ ê³„ì¢Œ ì‹œë®¬ë ˆì´ì…˜ |
| **Realtime Coaching** | `src/lib/coaching/realtime-sync.ts` | âœ… | WebSocket ê¸°ë°˜ ë©˜í† -ìˆ˜ê°•ìƒ ë™ê¸°í™” |
| **Celebrity Mirroring** | `src/lib/mirroring/celebrity-portfolio.ts` | âœ… | ìœ ëª…ì¸ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì  & ë¯¸ëŸ¬ë§ |

---

## ğŸ”— í•µì‹¬ ë ˆí¼ëŸ°ìŠ¤ ìë£Œ

### 1. AI íŠ¸ë ˆì´ë”© ê¸€ë¡œë²Œ íŠ¸ë Œë“œ

| ì¶œì²˜ | URL | í•µì‹¬ ì¸ì‚¬ì´íŠ¸ |
|------|-----|--------------|
| WunderTrading | https://wundertrading.com/journal/en/learn/article/artificial-intelligence-software-for-trading | AI íŠ¸ë ˆì´ë”© ì‹œì¥ $75.5B(2034) |
| QuantInsti | https://www.quantinsti.com/algorithmic-trading-conference | ì•Œê³ ë¦¬ì¦˜ íŠ¸ë ˆì´ë”© ì»¨í¼ëŸ°ìŠ¤ 2025 |
| Pure Financial | https://www.purefinancialacademy.com/blog/top-ai-trading-strategies-that-are-beating-the-market-in-2025 | 2025 AI íŠ¸ë ˆì´ë”© ì „ëµ |

### 2. êµ­ë‚´ íˆ¬ì êµìœ¡ ì‹œì¥

| ì¶œì²˜ | URL | í•µì‹¬ ì¸ì‚¬ì´íŠ¸ |
|------|-----|--------------|
| íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ | https://fastcampus.co.kr/story_article_investtop4 | ì‹œì¥â†’ì´ìŠˆâ†’ëŒ€ì¥ì£¼â†’ê¸°ë²• í•™ìŠµ ìˆœì„œ |
| ë‚˜ì£¼ë‹¤ìŠ¤ì¿¨ | https://najudaschool.co.kr/ | íƒ€ì  êµìœ¡ ë°©ë²•ë¡  |
| ì„±ê³µíˆ¬ììŠ¤ì¿¨ | https://stschool.kr/ | ê·¼ê±° ê¸°ë°˜ íŠ¸ë ˆì´ë”© |

### 3. ì‹¤ì‹œê°„ ì½”ì¹­ ë°©ë²•ë¡ 

| ì¶œì²˜ | URL | í•µì‹¬ ì¸ì‚¬ì´íŠ¸ |
|------|-----|--------------|
| SMB Capital | https://smbtraining.com/ | ë¦¬ì–¼íƒ€ì„ ë©˜í† ë§ + Tape Reading |
| Topstep | https://www.topstep.com/free-coaching/ | Prepâ€“Tradeâ€“ReflectÂ® ë£¨í‹´ |
| Schwab Coaching | https://www.schwab.com/coaching | Over the Shoulder ë°©ì‹ |

### 4. ìœ ëª…ì¸ í¬íŠ¸í´ë¦¬ì˜¤ ë°ì´í„° API

| API | URL | ìš©ë„ |
|-----|-----|------|
| Unusual Whales | https://unusualwhales.com/api | ì˜íšŒ ê±°ë˜, ETF ë°ì´í„° |
| Quiver Quantitative | https://www.quiverquant.com/ | ì •ì¹˜ì¸ ê±°ë˜ ìƒì„¸ |
| SEC EDGAR | https://www.sec.gov/cgi-bin/browse-edgar | 13F íŒŒì¼ë§ (ë¬´ë£Œ) |
| Autopilot | https://www.getautopilot.com/ | í¬íŠ¸í´ë¦¬ì˜¤ ë¯¸ëŸ¬ë§ |

### 5. ê¸°ìˆ  ìŠ¤íƒ ë ˆí¼ëŸ°ìŠ¤

| ê¸°ìˆ  | ë¬¸ì„œ | ì ìš© ì˜ì—­ |
|------|------|----------|
| Next.js 14 App Router | https://nextjs.org/docs | í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬ |
| Supabase | https://supabase.com/docs | ì¸ì¦, DB, RLS |
| Socket.io | https://socket.io/docs/v4/ | ì‹¤ì‹œê°„ WebSocket |
| TradingView Charting | https://www.tradingview.com/HTML5-stock-forex-bitcoin-charting-library/ | ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| Claude API | https://docs.anthropic.com/ | AI ë¶„ì„ ì—”ì§„ |

---

## ğŸ—ï¸ ì‹ ê·œ íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ agent/                    # ìì—°ì–´ íŠ¸ë ˆì´ë”© Agent [NEW]
â”‚   â”‚   â”œâ”€â”€ types.ts              # Intent, Entity íƒ€ì… ì •ì˜
â”‚   â”‚   â”œâ”€â”€ prompts.ts            # LLM í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿
â”‚   â”‚   â”œâ”€â”€ intent-parser.ts      # ìì—°ì–´ â†’ ì˜ë„ íŒŒì‹±
â”‚   â”‚   â”œâ”€â”€ strategy-builder.ts   # ì˜ë„ â†’ ì „ëµ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ orchestrator.ts       # ì „ì²´ íŒŒì´í”„ë¼ì¸ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ trading/                  # íŠ¸ë ˆì´ë”© ì—”ì§„ [NEW]
â”‚   â”‚   â”œâ”€â”€ executor.ts           # ë¼ì´ë¸Œ/í˜ì´í¼ íŠ¸ë ˆì´ë”©
â”‚   â”‚   â”œâ”€â”€ crypto.ts             # API í‚¤ ì•”í˜¸í™”
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/                       # AI ë¶„ì„ [NEW]
â”‚   â”‚   â”œâ”€â”€ report-generator.ts   # ì‹œì¥ ë¦¬í¬íŠ¸ ìƒì„±
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ simulation/               # ì‹œë®¬ë ˆì´ì…˜ [NEW]
â”‚   â”‚   â”œâ”€â”€ account.ts            # ê°€ìƒ ê³„ì¢Œ ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ coaching/                 # ì‹¤ì‹œê°„ ì½”ì¹­ [NEW]
â”‚   â”‚   â”œâ”€â”€ realtime-sync.ts      # WebSocket ë™ê¸°í™”
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â””â”€â”€ mirroring/                # í¬íŠ¸í´ë¦¬ì˜¤ ë¯¸ëŸ¬ë§ [NEW]
â”‚       â”œâ”€â”€ celebrity-portfolio.ts # ìœ ëª…ì¸ í¬íŠ¸í´ë¦¬ì˜¤
â”‚       â””â”€â”€ index.ts
â”‚
â””â”€â”€ app/api/
    â”œâ”€â”€ ai/
    â”‚   â”œâ”€â”€ report/route.ts       # GET/POST ì‹œì¥ ë¦¬í¬íŠ¸
    â”‚   â”œâ”€â”€ entry-point/route.ts  # GET íƒ€ì  ë¶„ì„
    â”‚   â””â”€â”€ agent/route.ts        # POST ìì—°ì–´ ì²˜ë¦¬
    â”‚
    â”œâ”€â”€ simulation/
    â”‚   â”œâ”€â”€ route.ts              # GET/POST/DELETE ê³„ì¢Œ ê´€ë¦¬
    â”‚   â””â”€â”€ trade/route.ts        # POST/DELETE ê±°ë˜ ì‹¤í–‰
    â”‚
    â””â”€â”€ celebrities/
        â”œâ”€â”€ route.ts              # GET ìœ ëª…ì¸ ëª©ë¡/ìƒì„¸
        â”œâ”€â”€ trades/route.ts       # GET ìµœê·¼ ê±°ë˜
        â””â”€â”€ mirror/route.ts       # GET/POST/PUT ë¯¸ëŸ¬ë§
```

---

## ğŸ¯ API ì—”ë“œí¬ì¸íŠ¸

### AI & Agent API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/ai/report` | ì¼ì¼ ì‹œì¥ ë¶„ì„ ë¦¬í¬íŠ¸ |
| POST | `/api/ai/report` | ì»¤ìŠ¤í…€ ë¦¬í¬íŠ¸ ìƒì„± |
| GET | `/api/ai/entry-point?symbol=005930` | ì¢…ëª© íƒ€ì  ë¶„ì„ |
| POST | `/api/ai/agent` | ìì—°ì–´ ëª…ë ¹ ì²˜ë¦¬ |
| PUT | `/api/ai/agent` | ëŒ€ê¸° ì¤‘ ì‘ì—… í™•ì¸ |
| DELETE | `/api/ai/agent?sessionId=xxx` | ì„¸ì…˜ ì´ˆê¸°í™” |

### Simulation API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/simulation?userId=xxx` | ì‚¬ìš©ì ê³„ì¢Œ ëª©ë¡ |
| POST | `/api/simulation` | ì‹ ê·œ ê³„ì¢Œ ìƒì„± |
| DELETE | `/api/simulation?accountId=xxx` | ê³„ì¢Œ ì‚­ì œ |
| POST | `/api/simulation/trade` | ë§¤ìˆ˜/ë§¤ë„ ì‹¤í–‰ |
| DELETE | `/api/simulation/trade?accountId=xxx` | ì „ì²´ í¬ì§€ì…˜ ì²­ì‚° |

### Celebrity API

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/api/celebrities` | ìœ ëª…ì¸ ëª©ë¡ + ì„±ê³¼ |
| GET | `/api/celebrities?id=xxx` | ìœ ëª…ì¸ ìƒì„¸ + í¬íŠ¸í´ë¦¬ì˜¤ |
| GET | `/api/celebrities/trades` | ìµœê·¼ ê±°ë˜ ë‚´ì—­ |
| GET | `/api/celebrities/mirror?celebrityId=xxx&amount=10000000` | ë¯¸ëŸ¬ í¬íŠ¸í´ë¦¬ì˜¤ ê³„ì‚° |
| POST | `/api/celebrities/mirror` | ë¯¸ëŸ¬ ì„¤ì • ì €ì¥ |
| PUT | `/api/celebrities/mirror` | í¬íŠ¸í´ë¦¬ì˜¤ ë¹„êµ |

---

## ğŸ’¡ í•µì‹¬ ê¸°ëŠ¥ ì‚¬ìš© ì˜ˆì‹œ

### 1. ìì—°ì–´ íŠ¸ë ˆì´ë”© Agent

```typescript
import { createTradingAgent } from '@/lib/agent'

const agent = createTradingAgent()

// ìì—°ì–´ë¡œ ì „ëµ ìƒì„±
const response = await agent.process("ë¹„íŠ¸ì½”ì¸ RSI 30 ì´í•˜ë©´ 10% ë§¤ìˆ˜í•´ì¤˜")
// â†’ ì „ëµ ìƒì„± + ì„¤ëª… + ë‹¤ìŒ ë‹¨ê³„ ì œì•ˆ

// ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰
await agent.process("ì´ ì „ëµìœ¼ë¡œ 3ê°œì›” ë°±í…ŒìŠ¤íŠ¸ ëŒë ¤ì¤˜")
// â†’ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ + ì„±ê³¼ ì§€í‘œ + ì¶”ì²œ

// ì‹¤ì „ íˆ¬ì…
await agent.process("ì‹¤ì „ íˆ¬ì…í•´ì¤˜")
// â†’ í™•ì¸ ìš”ì²­ (requiresConfirmation: true)
await agent.confirm(true)
// â†’ ì‹¤ê±°ë˜ ì‹œì‘
```

### 2. ì‹œë®¬ë ˆì´ì…˜ ê³„ì¢Œ

```typescript
import { simulationAccountManager } from '@/lib/simulation'

// ê³„ì¢Œ ìƒì„± (1,000ë§Œì›)
const account = simulationAccountManager.createAccount('user123', 'í…ŒìŠ¤íŠ¸ ê³„ì¢Œ')

// ë§¤ìˆ˜
const buyTrade = simulationAccountManager.buy(account.id, {
  symbol: 'BTC/USDT',
  side: 'buy',
  quantity: 0.1,
  price: 43000,
  reason: 'RSI 30 ì´í•˜ ì§„ì…'
})

// ë§¤ë„
const sellTrade = simulationAccountManager.sell(account.id, {
  symbol: 'BTC/USDT',
  side: 'sell',
  quantity: 0.1,
  price: 45000,
  reason: 'RSI 70 ì´ìƒ ì²­ì‚°'
})

// ì„±ê³¼ í™•ì¸
const summary = simulationAccountManager.getAccountSummary(account.id)
// â†’ { totalValue, cash, positionsValue, unrealizedPnl, totalReturn, totalReturnPercent }
```

### 3. ìœ ëª…ì¸ í¬íŠ¸í´ë¦¬ì˜¤ ë¯¸ëŸ¬ë§

```typescript
import { celebrityPortfolioManager } from '@/lib/mirroring'

// ìœ ëª…ì¸ ëª©ë¡
const celebrities = celebrityPortfolioManager.getCelebrities()
// â†’ [{ id: 'nancy_pelosi', name: 'Nancy Pelosi', ... }, ...]

// í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ
const portfolio = celebrityPortfolioManager.getPortfolio('nancy_pelosi')
// â†’ { holdings: [...], performance: { ytd: 73, ... } }

// ë¯¸ëŸ¬ í¬íŠ¸í´ë¦¬ì˜¤ ê³„ì‚°
const allocation = celebrityPortfolioManager.calculateMirrorPortfolio(
  'nancy_pelosi',
  10000000 // 1,000ë§Œì› íˆ¬ì
)
// â†’ [{ symbol: 'NVDA', shares: 29, value: 25375 }, ...]

// ë‚´ í¬íŠ¸í´ë¦¬ì˜¤ì™€ ë¹„êµ
const comparison = celebrityPortfolioManager.comparePortfolios(
  'nancy_pelosi',
  [{ symbol: 'NVDA', value: 500000 }, { symbol: 'AAPL', value: 300000 }]
)
// â†’ [{ symbol, celebrityWeight, userWeight, difference, suggestion }, ...]
```

### 4. ì‹¤ì‹œê°„ ì½”ì¹­ ì„¸ì…˜

```typescript
import { realtimeSyncManager, createEntryAnnotation } from '@/lib/coaching'

// ë©˜í† : ì„¸ì…˜ ìƒì„±
const session = realtimeSyncManager.createSession('mentor123', 'ê¹€ë©˜í† ')

// ìˆ˜ê°•ìƒ: ì„¸ì…˜ ì°¸ê°€
realtimeSyncManager.joinSession(session.id, 'student456')

// ìˆ˜ê°•ìƒ: ì´ë²¤íŠ¸ êµ¬ë…
realtimeSyncManager.subscribe(session.id, 'student456', {
  onStockChange: (event) => {
    // ë©˜í† ê°€ ì¢…ëª© ë³€ê²½ ì‹œ â†’ ë‚´ í™”ë©´ë„ ìë™ ì „í™˜
    setCurrentStock(event.stockCode)
  },
  onAnnotation: (annotation) => {
    // ë©˜í†  ì£¼ì„ â†’ ì°¨íŠ¸ì— í‘œì‹œ
    drawAnnotation(annotation)
  },
  onTradeAlert: (event) => {
    // ë©˜í†  ë§¤ë§¤ ì•Œë¦¼
    showNotification(`ë©˜í† ê°€ ${event.stockName} ${event.type}`)
  }
})

// ë©˜í† : ì¢…ëª© ì „í™˜
realtimeSyncManager.changeStock(session.id, {
  stockCode: '005930',
  stockName: 'ì‚¼ì„±ì „ì',
  reasoning: '20ì¼ì„  ëŒíŒŒ ì„ë°•',
  timestamp: new Date()
})

// ë©˜í† : íƒ€ì  ì£¼ì„ ì¶”ê°€
realtimeSyncManager.addAnnotation(
  session.id,
  createEntryAnnotation(100, 200, 'mentor123', 'ì—¬ê¸°ì„œ ì§„ì…!')
)
```

---

## ğŸ“ˆ ë‹¤ìŒ ë‹¨ê³„ (Phase 2)

### P1 (1ì£¼ì¼ ë‚´)

- [ ] Supabase ì‹¤ì œ DB ì—°ë™ (í˜„ì¬ Mock â†’ Real)
- [ ] TradingView ì°¨íŠ¸ í†µí•©
- [ ] ì‹¤ì‹œê°„ í˜¸ê°€ WebSocket (Binance/Upbit)

### P2 (2ì£¼ì¼ ë‚´)

- [ ] KRX API ì—°ë™ (í•œêµ­ ì£¼ì‹)
- [ ] ì¦ê¶Œì‚¬ CSV ì—…ë¡œë“œ + OCR
- [ ] ë©˜í†  ëŒ€ì‹œë³´ë“œ UI

### P3 (í–¥í›„)

- [ ] Claude API ì‹¤ì œ ì—°ë™
- [ ] ê°•í™”í•™ìŠµ ê¸°ë°˜ ì „ëµ ìµœì í™”
- [ ] React Native ëª¨ë°”ì¼ ì•±

---

## âœ… í’ˆì§ˆ ì§€í‘œ

| í•­ëª© | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| TypeScript Strict | âœ… | âœ… |
| ë¹Œë“œ ì„±ê³µ | âœ… | âœ… |
| ì½”ë“œ ì»¤ë²„ë¦¬ì§€ | - | 80%+ |
| API ë¬¸ì„œí™” | ì™„ë£Œ | ì™„ë£Œ |
| íƒ€ì… ì•ˆì •ì„± | ë†’ìŒ | ë†’ìŒ |

---

**ì‘ì„±ì**: Claude Opus 4.5
**ìµœì¢… ìˆ˜ì •**: 2025-12-13
