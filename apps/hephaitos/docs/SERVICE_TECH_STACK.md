# HEPHAITOS ì„œë¹„ìŠ¤ ê¸°ìˆ  ìŠ¤íƒ ê³„íš

> **ëª©í‘œ**: ì˜¤í”ˆì†ŒìŠ¤ + ìœ ë£Œ ì„œë¹„ìŠ¤ ìµœì  ì¡°í•©ìœ¼ë¡œ í”„ë¡œë•ì…˜ê¸‰ ì„œë¹„ìŠ¤ êµ¬ì¶•
> **ì‘ì„±ì¼**: 2025-12-14
> **ë²„ì „**: 1.0

---

## ğŸ¯ ê¸°ìˆ  ìŠ¤íƒ ì „ëµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    HEPHAITOS Tech Stack                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ìœ ë£Œ/í”„ë¦¬ë¯¸ì—„]     â”‚  [ì˜¤í”ˆì†ŒìŠ¤/ë¬´ë£Œ]                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  â€¢ AI: Claude API   â”‚  â€¢ ì§€í‘œ: trading-signals                 â”‚
â”‚  â€¢ Data: Polygon    â”‚  â€¢ ì°¨íŠ¸: lightweight-charts              â”‚
â”‚  â€¢ KR: í•œíˆ¬ API     â”‚  â€¢ UI: shadcn, TanStack                 â”‚
â”‚  â€¢ Pay: Toss        â”‚  â€¢ ìƒíƒœ: Zustand                        â”‚
â”‚  â€¢ Chart: TV Pro    â”‚  â€¢ DB: Supabase                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’° ìœ ë£Œ ì„œë¹„ìŠ¤ ì„ ì •

### 1. AI/LLM ì„œë¹„ìŠ¤

#### **Claude API (Anthropic)** - ì£¼ë ¥
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ìš©ë„** | ìì—°ì–´ ì „ëµ ìƒì„±, íˆ¬ì ë¶„ì„, AI íŠœí„° |
| **ëª¨ë¸** | Claude Sonnet 4 (ë¹ ë¥¸ ì‘ë‹µ), Claude Opus 4 (ë³µì¡í•œ ë¶„ì„) |
| **ê°€ê²©** | Sonnet: $3/$15 per 1M tokens, Opus: $15/$75 per 1M tokens |
| **ì¥ì ** | ê¸ˆìœµ ë²¤ì¹˜ë§ˆí¬ 1ìœ„, ì½”ë“œ ìƒì„± ìš°ìˆ˜, í•œêµ­ì–´ ì§€ì› |

```typescript
// ì‚¬ìš© ì˜ˆì‹œ
const CLAUDE_CONFIG = {
  models: {
    fast: 'claude-sonnet-4-20250514',      // ì‹¤ì‹œê°„ ì‘ë‹µ
    analysis: 'claude-opus-4-20250514',    // ì‹¬ì¸µ ë¶„ì„
  },
  useCases: {
    strategyGeneration: 'sonnet',  // ì „ëµ ìƒì„±
    marketAnalysis: 'opus',        // ì‹œì¥ ë¶„ì„ ë¦¬í¬íŠ¸
    aiTutor: 'sonnet',             // AI ì½”ì¹­
    backtestReview: 'opus',        // ë°±í…ŒìŠ¤íŠ¸ í•´ì„
  }
}
```

#### **OpenAI API** - ë³´ì¡°
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ìš©ë„** | ì„ë² ë”©(ê²€ìƒ‰), ì´ë¯¸ì§€ ìƒì„±, ìŒì„± ì¸ì‹ |
| **ëª¨ë¸** | text-embedding-3-small, GPT-4o (ë©€í‹°ëª¨ë‹¬) |
| **ê°€ê²©** | Embedding: $0.02/1M tokens |
| **ì¥ì ** | ì„ë² ë”© í’ˆì§ˆ, ë‹¤ì–‘í•œ ëª¨ë‹¬ë¦¬í‹° |

---

### 2. ê¸ˆìœµ ë°ì´í„° API

#### **í•œêµ­ ì‹œì¥: í•œêµ­íˆ¬ìì¦ê¶Œ Open API** (í•„ìˆ˜)
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ìš©ë„** | êµ­ë‚´ ì£¼ì‹ ì‹¤ì‹œê°„ ì‹œì„¸, ì£¼ë¬¸, ê³„ì¢Œ ê´€ë¦¬ |
| **ê°€ê²©** | ë¬´ë£Œ (ê³„ì¢Œ ê°œì„¤ í•„ìš”) |
| **ê¸°ëŠ¥** | KOSPI/KOSDAQ ì‹¤ì‹œê°„, ì£¼ë¬¸ API, ì”ê³  ì¡°íšŒ |
| **ì—°ë™** | REST API + WebSocket |

```typescript
// í•œêµ­íˆ¬ìì¦ê¶Œ API ì„¤ì •
const KIS_CONFIG = {
  baseUrl: 'https://openapi.koreainvestment.com:9443',
  websocket: 'wss://ops.koreainvestment.com:21000',
  endpoints: {
    domesticPrice: '/uapi/domestic-stock/v1/quotations/inquire-price',
    order: '/uapi/domestic-stock/v1/trading/order-cash',
    balance: '/uapi/domestic-stock/v1/trading/inquire-balance',
  }
}
```

#### **ë¯¸êµ­ ì‹œì¥: Polygon.io** (ìœ ë£Œ ê¶Œì¥)
| í”Œëœ | ê°€ê²© | ê¸°ëŠ¥ |
|------|------|------|
| Free | $0/ì›” | 5 calls/min, EOD, 2ë…„ íˆìŠ¤í† ë¦¬ |
| Starter | $29/ì›” | ë¬´ì œí•œ calls, ì‹¤ì‹œê°„ ì§€ì—°, 5ë…„ íˆìŠ¤í† ë¦¬ |
| Developer | $79/ì›” | ì‹¤ì‹œê°„ ë°ì´í„°, WebSocket, ì „ì²´ íˆìŠ¤í† ë¦¬ |
| Advanced | $199/ì›” | ëª¨ë“  ê¸°ëŠ¥ + ì˜µì…˜/ì™¸í™˜/í¬ë¦½í†  |

```typescript
// Polygon.io ì„¤ì •
const POLYGON_CONFIG = {
  baseUrl: 'https://api.polygon.io',
  websocket: 'wss://socket.polygon.io',
  endpoints: {
    aggregates: '/v2/aggs/ticker/{ticker}/range/{multiplier}/{timespan}/{from}/{to}',
    quotes: '/v3/quotes/{ticker}',
    trades: '/v3/trades/{ticker}',
  }
}
```

#### **ëŒ€ì•ˆ: Alpha Vantage** (ì €ë ´)
| í”Œëœ | ê°€ê²© | ê¸°ëŠ¥ |
|------|------|------|
| Free | $0/ì›” | 25 calls/day |
| Premium | $49.99/ì›” | 75 calls/min, ì „ì²´ ê¸°ëŠ¥ |
| Pro | $249.99/ì›” | 1200 calls/min, í”„ë¦¬ë¯¸ì—„ ì§€ì› |

**íŠ¹ì§•**: 50+ ê¸°ìˆ ì  ì§€í‘œ ë‚´ì¥, NASDAQ ê³µì‹ ë¼ì´ì„¼ìŠ¤

---

### 3. ê²°ì œ ì‹œìŠ¤í…œ

#### **í•œêµ­: Toss Payments** (í•„ìˆ˜)
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ìš©ë„** | êµ­ë‚´ ê²°ì œ, ì •ê¸°ê²°ì œ(êµ¬ë…) |
| **ìˆ˜ìˆ˜ë£Œ** | ì¹´ë“œ 2.8%~3.4%, ê°„í¸ê²°ì œ 2.5%~3.0% |
| **ì¥ì ** | í•œêµ­ ìµœì í™”, ë¹ ë¥¸ ì •ì‚°, ê°„í¸í•œ SDK |
| **ê¸°ëŠ¥** | ì¹´ë“œ, ê³„ì¢Œì´ì²´, ê°„í¸ê²°ì œ, ì •ê¸°ê²°ì œ |

```typescript
// Toss Payments ì„¤ì •
const TOSS_CONFIG = {
  clientKey: process.env.TOSS_CLIENT_KEY,
  secretKey: process.env.TOSS_SECRET_KEY,
  endpoints: {
    confirm: 'https://api.tosspayments.com/v1/payments/confirm',
    billing: 'https://api.tosspayments.com/v1/billing',
  }
}
```

#### **ê¸€ë¡œë²Œ: Stripe** (í•´ì™¸ ê²°ì œ)
| í•­ëª© | ë‚´ìš© |
|------|------|
| **ìš©ë„** | í•´ì™¸ ê²°ì œ, ê¸€ë¡œë²Œ êµ¬ë… |
| **ìˆ˜ìˆ˜ë£Œ** | 2.9% + $0.30/ê±´ |
| **ì£¼ì˜** | í•œêµ­ ì§€ì› ì œí•œì  |

---

### 4. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (í”„ë¦¬ë¯¸ì—„ ì˜µì…˜)

#### **TradingView Advanced Charts** (ì„ íƒì  ìœ ë£Œ)
| ì˜µì…˜ | ê°€ê²© | ê¸°ëŠ¥ |
|------|------|------|
| Free (í˜„ì¬) | $0 | lightweight-charts, ê¸°ë³¸ ê¸°ëŠ¥ |
| Advanced | í˜‘ì˜ | ì „ì²´ ì§€í‘œ, ë“œë¡œì‰ ë„êµ¬, ë©€í‹° ì°¨íŠ¸ |
| Trading Platform | í˜‘ì˜ | ì£¼ë¬¸ ì—°ë™, ë¸Œë¡œì»¤ í†µí•© |

**ê²°ì •**: MVPëŠ” lightweight-charts (ë¬´ë£Œ) ì‚¬ìš© â†’ ê³ ê° ë°˜ì‘ í›„ ì—…ê·¸ë ˆì´ë“œ ê²€í† 

---

## ğŸ†“ ì˜¤í”ˆì†ŒìŠ¤ ìŠ¤íƒ (ì´ë¯¸ ì ìš©ë¨)

### Frontend
| ì¹´í…Œê³ ë¦¬ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| í”„ë ˆì„ì›Œí¬ | Next.js 14 | App Router, SSR |
| ìŠ¤íƒ€ì¼ë§ | Tailwind CSS | ìœ í‹¸ë¦¬í‹° CSS |
| UI | shadcn/ui, Headless UI | ì»´í¬ë„ŒíŠ¸ |
| ìƒíƒœê´€ë¦¬ | Zustand | ì „ì—­ ìƒíƒœ |
| ì• ë‹ˆë©”ì´ì…˜ | Framer Motion | ì¸í„°ë™ì…˜ |
| í¼ | React Hook Form + Zod | í¼ ê²€ì¦ |
| í…Œì´ë¸” | TanStack Table | ë°ì´í„° ê·¸ë¦¬ë“œ |
| í† ìŠ¤íŠ¸ | Sonner | ì•Œë¦¼ |

### Trading/Finance
| ì¹´í…Œê³ ë¦¬ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| ì°¨íŠ¸ | lightweight-charts | ìº”ë“¤ìŠ¤í‹± |
| ì§€í‘œ | trading-signals | 100+ ê¸°ìˆ ì  ì§€í‘œ |
| í†µê³„ | simple-statistics | ìˆ˜í•™/í†µê³„ |
| ë‚ ì§œ | date-fns | ë‚ ì§œ ì²˜ë¦¬ |

### Backend
| ì¹´í…Œê³ ë¦¬ | ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|---------|-----------|------|
| ë°ì´í„°ë² ì´ìŠ¤ | Supabase (PostgreSQL) | DB + Auth |
| ì¸ì¦ | Supabase Auth | OAuth, Magic Link |
| ìŠ¤í† ë¦¬ì§€ | Supabase Storage | íŒŒì¼ ì €ì¥ |
| ì‹¤ì‹œê°„ | Supabase Realtime | WebSocket |

---

## ğŸ’µ ì›”ê°„ ë¹„ìš© ì˜ˆì¸¡

### MVP/ì´ˆê¸° ë‹¨ê³„ (100 ì‚¬ìš©ì ê¸°ì¤€)
| ì„œë¹„ìŠ¤ | í”Œëœ | ì˜ˆìƒ ë¹„ìš©/ì›” |
|--------|------|-------------|
| Claude API | Pay-as-you-go | ~$50-100 |
| Polygon.io | Free/Starter | $0-29 |
| í•œêµ­íˆ¬ìì¦ê¶Œ | ë¬´ë£Œ | $0 |
| Supabase | Free/Pro | $0-25 |
| Toss Payments | ìˆ˜ìˆ˜ë£Œë§Œ | ë§¤ì¶œì˜ 3% |
| Vercel | Pro | $20 |
| **í•©ê³„** | | **~$70-174/ì›”** |

### ì„±ì¥ ë‹¨ê³„ (1,000 ì‚¬ìš©ì ê¸°ì¤€)
| ì„œë¹„ìŠ¤ | í”Œëœ | ì˜ˆìƒ ë¹„ìš©/ì›” |
|--------|------|-------------|
| Claude API | Volume | ~$300-500 |
| Polygon.io | Developer | $79 |
| í•œêµ­íˆ¬ìì¦ê¶Œ | ë¬´ë£Œ | $0 |
| Supabase | Pro | $25 |
| Toss Payments | ìˆ˜ìˆ˜ë£Œ | ë§¤ì¶œì˜ 3% |
| Vercel | Pro | $20 |
| **í•©ê³„** | | **~$424-624/ì›”** |

### ìŠ¤ì¼€ì¼ ë‹¨ê³„ (10,000+ ì‚¬ìš©ì)
| ì„œë¹„ìŠ¤ | í”Œëœ | ì˜ˆìƒ ë¹„ìš©/ì›” |
|--------|------|-------------|
| Claude API | Enterprise | ~$2,000-5,000 |
| Polygon.io | Advanced | $199 |
| í•œêµ­íˆ¬ìì¦ê¶Œ | ë¬´ë£Œ | $0 |
| Supabase | Team/Enterprise | $599+ |
| TradingView | Advanced (ì˜µì…˜) | í˜‘ì˜ |
| **í•©ê³„** | | **$3,000+/ì›”** |

---

## ğŸ”§ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

```env
# .env.local

# ============================================
# AI Services
# ============================================
ANTHROPIC_API_KEY=sk-ant-api03-...
OPENAI_API_KEY=sk-...

# ============================================
# Market Data APIs
# ============================================
# í•œêµ­íˆ¬ìì¦ê¶Œ
KIS_APP_KEY=
KIS_APP_SECRET=
KIS_ACCOUNT_NO=

# Polygon.io
POLYGON_API_KEY=

# Alpha Vantage (ëŒ€ì•ˆ)
ALPHA_VANTAGE_API_KEY=

# ============================================
# Payment
# ============================================
# Toss Payments (í•œêµ­)
TOSS_CLIENT_KEY=
TOSS_SECRET_KEY=

# Stripe (ê¸€ë¡œë²Œ)
STRIPE_PUBLISHABLE_KEY=
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=

# ============================================
# Database & Auth
# ============================================
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
SUPABASE_SERVICE_ROLE_KEY=

# ============================================
# App Config
# ============================================
NEXT_PUBLIC_APP_URL=https://hephaitos.io
NEXTAUTH_SECRET=
```

---

## ğŸ“Š ì„œë¹„ìŠ¤ ë¡œì§ ê°•í™” ê³„íš

### Phase 1: í•µì‹¬ ì¸í”„ë¼ (Week 1-2)
1. **í•œêµ­íˆ¬ìì¦ê¶Œ API ì—°ë™**
   - ì‹¤ì‹œê°„ ì‹œì„¸ WebSocket
   - ì£¼ë¬¸ API ë˜í¼
   - ê³„ì¢Œ ì”ê³  ì¡°íšŒ

2. **Claude API í†µí•©**
   - ì „ëµ ìƒì„± ì—”ë“œí¬ì¸íŠ¸
   - ì‹œì¥ ë¶„ì„ ë¦¬í¬íŠ¸
   - AI íŠœí„° ì±—ë´‡

### Phase 2: ë°ì´í„° íŒŒì´í”„ë¼ì¸ (Week 3-4)
1. **Polygon.io ì—°ë™**
   - ë¯¸êµ­ ì£¼ì‹ ë°ì´í„°
   - íˆìŠ¤í† ë¦¬ì»¬ ë°ì´í„° ìºì‹±
   - ì‹¤ì‹œê°„ WebSocket

2. **ë°ì´í„° ì •ê·œí™”**
   - OHLCV í†µí•© í¬ë§·
   - ì§€í‘œ ê³„ì‚° íŒŒì´í”„ë¼ì¸
   - ìºì‹± ì „ëµ (Redis/Supabase)

### Phase 3: ê²°ì œ ì‹œìŠ¤í…œ (Week 5-6)
1. **Toss Payments í†µí•©**
   - ì •ê¸°ê²°ì œ (êµ¬ë…)
   - ì›¹í›… ì²˜ë¦¬
   - ê²°ì œ ìƒíƒœ ê´€ë¦¬

2. **êµ¬ë… ê´€ë¦¬**
   - í”Œëœ ì—…/ë‹¤ìš´ê·¸ë ˆì´ë“œ
   - ë¬´ë£Œ ì²´í—˜ â†’ ìœ ë£Œ ì „í™˜
   - ì·¨ì†Œ/í™˜ë¶ˆ ì²˜ë¦¬

### Phase 4: ê³ ê¸‰ ê¸°ëŠ¥ (Week 7-8)
1. **ì‹¤ì‹œê°„ ì•Œë¦¼**
   - ê°€ê²© ì•Œë¦¼
   - ì§€í‘œ ì•Œë¦¼
   - ì „ëµ ì‹ í˜¸ ì•Œë¦¼

2. **ë°±í…ŒìŠ¤íŠ¸ ê³ ë„í™”**
   - ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬
   - ê²°ê³¼ ì‹œê°í™” ê°œì„ 
   - ë¦¬í¬íŠ¸ PDF ìƒì„±

---

## ğŸ”— API ì—°ë™ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (Next.js)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Routes (Next.js)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ /api/ai/*   â”‚  â”‚ /api/market/*â”‚  â”‚ /api/payments/*    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                   â”‚                    â”‚
          â–¼                   â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude API   â”‚  â”‚ í•œíˆ¬ API / Polygon â”‚  â”‚  Toss / Stripe   â”‚
â”‚  (AI/ë¶„ì„)     â”‚  â”‚  (ì‹œì„¸/ì£¼ë¬¸)        â”‚  â”‚   (ê²°ì œ)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚    Supabase       â”‚
                    â”‚  (DB/Auth/RT)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âœ… ì„ ì • ê·¼ê±° ìš”ì•½

| ì˜ì—­ | ì„ ì • | ê·¼ê±° |
|------|------|------|
| AI | Claude API | ê¸ˆìœµ ë²¤ì¹˜ë§ˆí¬ 1ìœ„, ì½”ë“œ ìƒì„± ìš°ìˆ˜ |
| í•œêµ­ ë°ì´í„° | í•œêµ­íˆ¬ìì¦ê¶Œ | ë¬´ë£Œ, ì‹¤ì‹œê°„ ê°€ëŠ¥, ì£¼ë¬¸ API |
| ë¯¸êµ­ ë°ì´í„° | Polygon.io | ì €ì§€ì—°, ì „ë¬¸ì„±, í•©ë¦¬ì  ê°€ê²© |
| í•œêµ­ ê²°ì œ | Toss Payments | ìµœì í™”ëœ UX, ì •ê¸°ê²°ì œ ì§€ì› |
| ê¸€ë¡œë²Œ ê²°ì œ | Stripe | ê¸€ë¡œë²Œ í‘œì¤€, ê°œë°œì ì¹œí™”ì  |
| ì°¨íŠ¸ | lightweight-charts | TradingView ê³µì‹, ë¬´ë£Œ, ì¶©ë¶„í•œ ê¸°ëŠ¥ |
| ì§€í‘œ | trading-signals | 100+ ì§€í‘œ, TypeScript, í™œë°œí•œ ìœ ì§€ë³´ìˆ˜ |

---

## ğŸ“‹ êµ¬í˜„ ì™„ë£Œ (2025-12-14)

### âœ… ì™„ë£Œëœ API í”„ë¡œë°”ì´ë”

| í”„ë¡œë°”ì´ë” | íŒŒì¼ | ê¸°ëŠ¥ |
|-----------|------|------|
| Claude AI | `src/lib/api/providers/claude.ts` | ì „ëµ ìƒì„±, ì‹œì¥ ë¶„ì„, AI íŠœí„°, ë°±í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸ |
| í•œêµ­íˆ¬ìì¦ê¶Œ | `src/lib/api/providers/kis.ts` | ì‹¤ì‹œê°„ ì‹œì„¸, ì¼ë´‰/ë¶„ë´‰, ì£¼ë¬¸, ê³„ì¢Œ ì”ê³  |
| Polygon.io | `src/lib/api/providers/polygon.ts` | US ì‹œì„¸, OHLCV, ë‰´ìŠ¤, ì¬ë¬´ì œí‘œ, ê¸°ìˆ ì  ì§€í‘œ |
| Toss Payments | `src/lib/api/providers/toss-payments.ts` | ë‹¨ê±´ ê²°ì œ, ì •ê¸°ê²°ì œ(ë¹Œë§), êµ¬ë… ê´€ë¦¬ |

### ì£¼ìš” êµ¬í˜„ ë‚´ìš©

1. **Claude API Provider**
   - `generateStrategy()` - ìì—°ì–´ â†’ ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµ ë³€í™˜
   - `analyzeMarket()` - ê¸°ìˆ ì /ì‹¬ë¦¬ì  ì‹œì¥ ë¶„ì„
   - `askTutor()` - AI íˆ¬ì íŠœí„° ì±—ë´‡
   - `generateBacktestReport()` - ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼ í•´ì„

2. **í•œêµ­íˆ¬ìì¦ê¶Œ Provider**
   - ì‹¤ì‹œê°„ ì‹œì„¸ ì¡°íšŒ (`getCurrentPrice`)
   - í˜¸ê°€ ì¡°íšŒ (`getQuote`)
   - ì¼ë´‰/ë¶„ë´‰ ë°ì´í„° (`getDailyOHLCV`, `getMinuteOHLCV`)
   - ë§¤ìˆ˜/ë§¤ë„ ì£¼ë¬¸ (`placeBuyOrder`, `placeSellOrder`)
   - ê³„ì¢Œ ì”ê³  ì¡°íšŒ (`getAccountBalance`)

3. **Polygon.io Provider**
   - ì¢…ëª© ì •ë³´ ë° ê²€ìƒ‰ (`getTickerDetails`, `searchTickers`)
   - ì‹¤ì‹œê°„ ìŠ¤ëƒ…ìƒ· (`getCurrentPrice`, `getMultiplePrices`)
   - OHLCV ë°ì´í„° (`getOHLCV`, `getMinuteOHLCV`)
   - ë‰´ìŠ¤ ì¡°íšŒ (`getNews`)
   - ì¬ë¬´ì œí‘œ (`getFinancials`)
   - ê¸°ìˆ ì  ì§€í‘œ (`getSMA`, `getEMA`, `getRSI`, `getMACD`)
   - WebSocket ì—°ê²° ì§€ì›

4. **Toss Payments Provider**
   - ë‹¨ê±´ ê²°ì œ (`confirmPayment`, `cancelPayment`)
   - ì •ê¸°ê²°ì œ ë¹Œë§í‚¤ (`issueBillingKey`, `chargeWithBillingKey`)
   - êµ¬ë… í”Œëœ ì •ì˜ (Free, Starter, Pro, Enterprise)
   - Webhook ê²€ì¦ (`verifyWebhookSignature`)

### í†µí•© ì¸í„°í˜ì´ìŠ¤

```typescript
// src/lib/api/providers/index.ts
import { initializeFromEnv, getUnifiedPrice, getUnifiedOHLCV, isMarketOpen } from '@/lib/api/providers'

// í™˜ê²½ë³€ìˆ˜ì—ì„œ ìë™ ì´ˆê¸°í™”
initializeFromEnv()

// í†µí•© API ì‚¬ìš©
const krPrice = await getUnifiedPrice('005930', 'KR')  // ì‚¼ì„±ì „ì
const usPrice = await getUnifiedPrice('AAPL', 'US')    // Apple

// ì‹œì¥ ìƒíƒœ í™•ì¸
const isKROpen = isMarketOpen('KR')
const isUSOpen = isMarketOpen('US')
```

## ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„

1. [x] í•œêµ­íˆ¬ìì¦ê¶Œ API Provider êµ¬í˜„ âœ…
2. [x] Claude API Provider êµ¬í˜„ âœ…
3. [x] Polygon.io API Provider êµ¬í˜„ âœ…
4. [x] Toss Payments ê²°ì œ ëª¨ë“ˆ êµ¬í˜„ âœ…
5. [x] í†µí•© ì¸í„°í˜ì´ìŠ¤ ë° í™˜ê²½ë³€ìˆ˜ ì„¤ì • âœ…
6. [ ] API í‚¤ ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸
7. [ ] WebSocket ì‹¤ì‹œê°„ ì—°ë™ í…ŒìŠ¤íŠ¸
8. [ ] ê²°ì œ Webhook ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
9. [ ] ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ ê°•í™”

---

*ë¬¸ì„œ ë²„ì „: 1.1*
*ìµœì¢… ìˆ˜ì •: 2025-12-14*
