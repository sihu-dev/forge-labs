# HEPHAITOS 사용자 가이드

> **초보자를 위한 완벽 가이드**
>
> 최종 업데이트: 2025-12-18
> 난이도: 초급 ~ 중급

---

## 📖 목차

1. [첫 번째 전략 만들기](#1-첫-번째-전략-만들기)
2. [백테스팅 가이드](#2-백테스팅-가이드)
3. [증권사 연동 가이드](#3-증권사-연동-가이드)

---

## 1. 첫 번째 전략 만들기

### 1.1 전략이란?

트레이딩 전략은 **언제 매수하고 언제 매도할지**를 정의한 규칙입니다.

**예시**:
- "RSI가 30 이하면 매수, 70 이상이면 매도"
- "MACD 골든크로스 시 매수"
- "20일 이동평균선 돌파 시 매수"

---

### 1.2 자연어로 전략 만들기 (AI 활용)

HEPHAITOS는 자연어 입력만으로 전략을 생성할 수 있습니다!

#### Step 1: 대시보드 접속

```
https://hephaitos.com/dashboard
```

#### Step 2: "AI 전략 생성" 클릭

#### Step 3: 원하는 전략을 자연어로 입력

```
RSI 30 이하일 때 매수하고 70 이상일 때 매도하는 전략을 만들어줘.
손절은 -5%, 익절은 +10%로 설정해줘.
```

#### Step 4: AI가 전략 생성

AI가 다음과 같은 전략을 자동으로 생성합니다:

```typescript
{
  name: "RSI 역발상 전략",
  entryConditions: [
    {
      indicator: "RSI",
      period: 14,
      operator: "<",
      value: 30
    }
  ],
  exitConditions: [
    {
      indicator: "RSI",
      operator: ">",
      value: 70
    }
  ],
  riskManagement: {
    stopLossPercent: 5,
    takeProfitPercent: 10
  }
}
```

#### Step 5: 전략 저장

✅ **전략 저장** 버튼 클릭

---

### 1.3 수동으로 전략 만들기 (고급)

#### 드래그 앤 드롭 방식

1. **진입 조건** 블록 추가
   - 기술지표 선택 (RSI, MACD, 볼린저밴드 등)
   - 조건 설정 (>, <, =)
   - 값 입력

2. **청산 조건** 블록 추가
   - 익절/손절 조건
   - 지표 기반 청산

3. **리스크 관리** 설정
   - 최대 포지션 크기: 10% (포트폴리오의 10%)
   - 손절: -5%
   - 익절: +10%

4. **전략 저장**

---

### 1.4 예시: MACD 전략

```typescript
{
  name: "MACD 골든크로스 전략",
  description: "MACD가 시그널선을 상향 돌파 시 매수",
  entryConditions: [
    {
      type: "crossover",
      indicator1: "MACD",
      indicator2: "MACD_Signal",
      direction: "above"
    }
  ],
  exitConditions: [
    {
      type: "crossover",
      indicator1: "MACD",
      indicator2: "MACD_Signal",
      direction: "below"
    }
  ],
  riskManagement: {
    stopLossPercent: 5,
    takeProfitPercent: 10,
    maxPositionSize: 20
  }
}
```

---

## 2. 백테스팅 가이드

### 2.1 백테스팅이란?

**백테스팅**은 과거 데이터로 전략의 성과를 시뮬레이션하는 것입니다.

**목적**:
- 전략이 과거에 어떻게 동작했는지 확인
- 수익률, 샤프 비율, 최대 낙폭(MDD) 등 성과 지표 확인
- 실전 투자 전 전략 검증

⚠️ **중요**: 과거 성과는 미래 수익을 보장하지 않습니다.

---

### 2.2 백테스팅 실행하기

#### Step 1: 전략 선택

대시보드에서 백테스트하고 싶은 전략을 선택합니다.

#### Step 2: 백테스팅 설정

1. **거래 심볼**: BTC/USD, AAPL, TSLA 등
2. **기간**: 시작일 ~ 종료일
   - 예: 2024-01-01 ~ 2024-12-31
3. **초기 자본**: 100,000 KRW (기본값)
4. **수수료**: 0.1% (기본값)
5. **슬리피지**: 0.05% (기본값)

#### Step 3: 백테스트 실행

**"백테스트 실행"** 버튼 클릭

⏱️ 대기 시간: 30초 ~ 2분 (데이터량에 따라 다름)

#### Step 4: 결과 확인

백테스팅 결과를 확인합니다:

```
📊 백테스팅 결과

총 수익률: +18.5%
샤프 비율: 1.82
최대 낙폭(MDD): -8.3%
승률: 65%

총 거래 수: 24회
평균 수익: +3.5%
평균 손실: -1.8%

초기 자본: 100,000 KRW
최종 자산: 118,500 KRW
순이익: +18,500 KRW
```

#### Step 5: 자산 변화 곡선(Equity Curve) 확인

차트로 시간에 따른 자산 변화를 확인합니다.

---

### 2.3 백테스팅 결과 해석

#### 주요 지표 의미

| 지표 | 의미 | 좋은 값 |
|------|------|---------|
| **총 수익률** | 전체 투자 기간 동안의 수익률 | > 10% |
| **샤프 비율** | 위험 대비 수익 (높을수록 좋음) | > 1.0 |
| **최대 낙폭(MDD)** | 최고점 대비 최대 하락폭 | < -20% |
| **승률** | 전체 거래 중 이익 거래 비율 | > 50% |
| **Profit Factor** | 총 이익 / 총 손실 | > 1.5 |

#### 예시 해석

```
✅ 좋은 전략:
- 총 수익률: +25%
- 샤프 비율: 1.8
- MDD: -12%
- 승률: 62%

→ 위험 대비 수익이 양호하고, 낙폭도 관리 가능한 수준
```

```
❌ 주의가 필요한 전략:
- 총 수익률: +50%
- 샤프 비율: 0.5
- MDD: -45%
- 승률: 30%

→ 수익률은 높지만 위험이 너무 크고, 낙폭이 심함
→ 리스크 관리 개선 필요
```

---

### 2.4 백테스팅 주의사항

⚠️ **과최적화(Overfitting)** 주의
- 과거 데이터에만 잘 맞는 전략은 실전에서 실패할 수 있습니다
- 여러 기간, 여러 심볼로 테스트하세요

⚠️ **슬리피지와 수수료**
- 실제 거래 시 슬리피지(체결가 차이)와 수수료가 발생합니다
- 백테스팅 설정에서 현실적인 값을 사용하세요

⚠️ **미래 정보 사용 금지**
- 백테스팅에서 미래 데이터를 사용하면 안 됩니다 (Look-ahead Bias)
- HEPHAITOS는 자동으로 방지합니다

---

## 3. 증권사 연동 가이드

### 3.1 UnifiedBroker란?

HEPHAITOS의 **UnifiedBroker**는 여러 증권사를 하나의 인터페이스로 연결해주는 시스템입니다.

**지원 증권사/거래소**:
- 🇰🇷 한국투자증권 (KIS)
- 🇰🇷 키움증권 (KIWOOM)
- 🇺🇸 Alpaca (미국 주식)
- 🪙 Binance (암호화폐)
- 🪙 Upbit (암호화폐)

---

### 3.2 증권사 연동하기 (3분 완성)

#### Step 1: API 키 발급

##### 한국투자증권 (KIS)

1. https://apiportal.koreainvestment.com 접속
2. 회원가입 및 로그인
3. **API 키 발급** 메뉴
4. **모의투자 API 키** 발급 (Paper Trading)
   - App Key (API Key)
   - App Secret (API Secret)
   - 계좌번호
5. 발급된 키를 안전하게 저장

##### Alpaca (미국 주식)

1. https://alpaca.markets 접속
2. 회원가입
3. **Paper Trading Account** 생성
4. API Keys 메뉴에서 키 발급
   - API Key ID
   - Secret Key
5. 저장

##### Binance (암호화폐)

1. https://binance.com 접속
2. 로그인 → API Management
3. Create API 클릭
4. **Spot & Margin Trading** 권한 부여
5. API Key, Secret Key 저장

---

#### Step 2: HEPHAITOS에 연결

1. **설정 > 증권사 연동** 메뉴
2. **새 증권사 추가** 클릭
3. 증권사 선택 (KIS, Alpaca, Binance 등)
4. API 정보 입력:

```
증권사: 한국투자증권 (KIS)
API Key: PASTE_YOUR_API_KEY
API Secret: PASTE_YOUR_API_SECRET
계좌번호: 12345678
모드: Paper Trading (모의투자)
```

5. **연결 테스트** 클릭
6. ✅ 연결 성공 확인

---

#### Step 3: 계좌 정보 확인

연결이 완료되면 다음 정보를 확인할 수 있습니다:

```
💰 잔고:
  사용 가능: 1,000,000 KRW
  총 자산: 1,500,000 KRW

📊 보유 종목:
  삼성전자: 10주 (평균 단가: 70,000원)
  현재가: 72,000원
  평가 손익: +20,000원 (+2.86%)
```

---

### 3.3 Paper Trading (모의투자)

#### Paper Trading이란?

실제 돈을 사용하지 않고 **가상 자금**으로 트레이딩을 연습하는 것입니다.

**장점**:
- ✅ 실제 돈 손실 없음
- ✅ 전략 테스트 가능
- ✅ 실전과 동일한 환경
- ✅ 무제한 연습

#### Paper Trading 활성화

1. 증권사 연동 시 **"Paper Trading"** 옵션 선택
2. 초기 자본 설정 (기본: 1,000,000 KRW)
3. 전략 실행

⚠️ **주의**: Paper Trading에서 잘 작동했다고 실전에서도 반드시 성공하는 것은 아닙니다.

---

### 3.4 실전 거래 시작하기

#### 준비사항 체크리스트

- [ ] Paper Trading으로 충분히 테스트 완료
- [ ] 전략의 백테스팅 결과 확인
- [ ] 리스크 관리 설정 확인 (손절/익절)
- [ ] 투자 가능 금액 확인
- [ ] 법률 및 세금 이해

#### 실전 모드 전환

1. 증권사 연동 설정에서 **"Live Trading"** 선택
2. ⚠️ 경고 메시지 확인:

```
⚠️ 실전 거래 경고

실제 자금으로 거래됩니다.
투자 원금 손실 위험이 있습니다.

계속하시겠습니까?
```

3. **"동의합니다"** 체크
4. 거래 시작

---

### 3.5 증권사 연동 문제 해결

#### 연결 실패 시

**오류**: `CONNECTION_FAILED`

**해결 방법**:
1. API Key, Secret이 정확한지 확인
2. 증권사 API 서비스 상태 확인
3. 계좌번호가 올바른지 확인
4. IP 화이트리스트 설정 확인 (일부 증권사)

---

#### 주문 실패 시

**오류**: `INSUFFICIENT_FUNDS`

**해결 방법**:
- 잔고 부족: 사용 가능 금액 확인
- 포지션 크기 줄이기

**오류**: `MARKET_CLOSED`

**해결 방법**:
- 시장 개장 시간 확인
- 한국 주식: 09:00 ~ 15:30 (KST)
- 미국 주식: 23:30 ~ 06:00 (KST, 서머타임 22:30 ~ 05:00)

---

## 🔧 추가 도움말

### 용어 사전

| 용어 | 의미 |
|------|------|
| **백테스팅** | 과거 데이터로 전략 시뮬레이션 |
| **샤프 비율** | 위험 대비 수익 지표 (높을수록 좋음) |
| **MDD** | 최고점 대비 최대 하락폭 |
| **슬리피지** | 주문가와 실제 체결가의 차이 |
| **손절** | 손실을 제한하기 위한 자동 청산 |
| **익절** | 목표 수익률 달성 시 자동 청산 |
| **Paper Trading** | 가상 자금으로 거래 연습 |
| **Live Trading** | 실제 자금으로 거래 |

### 자주 묻는 질문 (FAQ)

#### Q1: 백테스팅에서 좋은 결과가 나왔는데 실전에서 손실이 났어요.

**A**: 백테스팅은 과거 데이터 기반이며, 다음 요인들로 인해 실전과 차이가 발생할 수 있습니다:
- 슬리피지 (체결가 차이)
- 수수료
- 시장 변동성 변화
- 과최적화 (Overfitting)

→ Paper Trading으로 먼저 충분히 테스트하세요.

#### Q2: API 키를 잃어버렸어요.

**A**: 증권사 사이트에서 API 키를 재발급받으세요. 보안을 위해 기존 키는 즉시 폐기됩니다.

#### Q3: HEPHAITOS가 투자 조언을 해주나요?

**A**: **아니요**. HEPHAITOS는 교육 및 도구 제공 플랫폼입니다. 모든 투자 결정은 본인 책임입니다.

---

## ⚖️ 법률 및 면책조항

### 중요 공지

- HEPHAITOS는 투자 조언 서비스가 아닙니다
- 모든 전략과 도구는 교육 목적으로 제공됩니다
- 투자 결정은 사용자 본인의 책임입니다
- 과거 성과는 미래 수익을 보장하지 않습니다
- 트레이딩은 원금 손실 위험이 있습니다

### 권장 사항

1. **소액으로 시작**: 전체 자산의 5% 이하
2. **리스크 관리**: 손절/익절 설정 필수
3. **분산 투자**: 한 종목에 집중하지 말기
4. **감정 통제**: 공포와 탐욕을 경계
5. **지속적 학습**: 시장 변화에 적응

---

## 📧 지원

문제가 발생하거나 추가 도움이 필요하면:

- **Documentation**: https://docs.hephaitos.com
- **FAQ**: https://hephaitos.com/faq
- **Support**: support@ioblock.com
- **Community**: https://community.hephaitos.com

---

*최종 업데이트: 2025-12-18*
*Happy Trading (교육 목적)! 🚀*
