# ADE ì •ì‚° ìë™í™” - ì „ì²´ ì„¤ê³„ì„œ

> **ëª©í‘œ**: í”„ë¦¬ëœì„œ/1ì¸ ì‚¬ì—…ì ì •ì‚° ìë™í™”
> **í•µì‹¬ í”Œë¡œìš°**: ê²¬ì ì„œ â†’ ê³„ì•½ì„œ â†’ ì¸ë³´ì´ìŠ¤ â†’ ì„¸ê¸ˆê³„ì‚°ì„œ

---

## 1. ê³ ê° DB ì„¤ê³„

### 1.1 í˜ì´ì§€ êµ¬ì¡°

```
/dashboard/clients           # ê³ ê° ëª©ë¡
/dashboard/clients/new       # ê³ ê° ë“±ë¡
/dashboard/clients/[id]      # ê³ ê° ìƒì„¸
/dashboard/clients/[id]/edit # ê³ ê° ìˆ˜ì •
```

### 1.2 ê³ ê° ëª©ë¡ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‘¥ ê³ ê° ê´€ë¦¬                              [+ ìƒˆ ê³ ê° ë“±ë¡]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ” ê²€ìƒ‰...                    [ì „ì²´ â–¼] [ìµœê·¼ìˆœ â–¼]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ (ì£¼)í…Œí¬ìŠ¤íƒ€íŠ¸                    ì‚¬ì—…ì | 5ê±´ | 15,000,000ì›â”‚
â”‚ â”‚ 123-45-67890 | tech@start.com                           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ê¹€ì² ìˆ˜                           ê°œì¸ | 2ê±´ | 3,000,000ì› â”‚
â”‚ â”‚ kim@email.com | 010-1234-5678                           â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 ê³ ê° ë“±ë¡ í¼

```typescript
interface ClientForm {
  // ê¸°ë³¸ ì •ë³´
  type: 'individual' | 'business';
  name: string;                    // í•„ìˆ˜

  // ì‚¬ì—…ì ì •ë³´ (type === 'business')
  businessNumber?: string;         // 000-00-00000
  representativeName?: string;

  // ì—°ë½ì²˜
  email: string;                   // í•„ìˆ˜
  phone?: string;

  // ì£¼ì†Œ
  address?: string;

  // ì—…íƒœ/ì¢…ëª© (ì„¸ê¸ˆê³„ì‚°ì„œìš©)
  businessType?: string;
  businessCategory?: string;

  // ë©”ëª¨
  notes?: string;
  tags?: string[];
}
```

### 1.4 ê³ ê° ìƒì„¸ UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† ë’¤ë¡œ                                      [ìˆ˜ì •] [ì‚­ì œ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (ì£¼)í…Œí¬ìŠ¤íƒ€íŠ¸                                    [ì‚¬ì—…ì]  â”‚
â”‚ 123-45-67890 | ëŒ€í‘œ: í™ê¸¸ë™                                 â”‚
â”‚ tech@start.com | 02-1234-5678                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“Š ê±°ë˜ í˜„í™©                                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ ê²¬ì  5ê±´ â”‚ ê³„ì•½ 3ê±´ â”‚ ì¸ë³´ì´ìŠ¤ â”‚ ë§¤ì¶œ     â”‚               â”‚
â”‚ â”‚          â”‚          â”‚ 4ê±´      â”‚ 15,000,000â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ ë¬¸ì„œ ì´ë ¥                                    [+ ìƒˆ ë¬¸ì„œ] â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“‹ Q-2024-0015 | ì›¹ê°œë°œ ê²¬ì  | 3,000,000ì› | ë°œì†¡ë¨     â”‚ â”‚
â”‚ â”‚ ğŸ“ C-2024-0008 | ì›¹ê°œë°œ ê³„ì•½ | 5,000,000ì› | ì²´ê²°       â”‚ â”‚
â”‚ â”‚ ğŸ’³ I-2024-0012 | ê³„ì•½ê¸ˆ ì²­êµ¬ | 1,500,000ì› | ê²°ì œì™„ë£Œ   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ê²¬ì ì„œ í¼ ì„¤ê³„

### 2.1 í˜ì´ì§€ êµ¬ì¡°

```
/dashboard/quotes             # ê²¬ì ì„œ ëª©ë¡
/dashboard/quotes/new         # ê²¬ì ì„œ ì‘ì„±
/dashboard/quotes/[id]        # ê²¬ì ì„œ ìƒì„¸
/dashboard/quotes/[id]/edit   # ê²¬ì ì„œ ìˆ˜ì •

/p/quotes/[id]               # ê³µê°œ ê²¬ì ì„œ (ê³ ê° ì—´ëŒìš©)
```

### 2.2 ê²¬ì ì„œ ì‘ì„± UI (3ë‹¨ê³„)

```
Step 1: ê³ ê° ì„ íƒ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ ê²¬ì ì„œ ì‘ì„±                              Step 1/3        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê³ ê° ì„ íƒ                                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ” ê³ ê° ê²€ìƒ‰...                      [+ ìƒˆ ê³ ê° ë“±ë¡]   â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ â—‹ (ì£¼)í…Œí¬ìŠ¤íƒ€íŠ¸        123-45-67890                    â”‚ â”‚
â”‚ â”‚ â— ë””ìì¸ë©              456-78-90123                    â”‚ â”‚
â”‚ â”‚ â—‹ ê¹€ì² ìˆ˜                ê°œì¸                            â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                [ë‹¤ìŒ â†’]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: ê²¬ì  ë‚´ìš©
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ ê²¬ì ì„œ ì‘ì„±                              Step 2/3        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê²¬ì  ì œëª©                                                   â”‚
â”‚ [ ì›¹ì‚¬ì´íŠ¸ ë¦¬ë‰´ì–¼ í”„ë¡œì íŠ¸                              ]   â”‚
â”‚                                                             â”‚
â”‚ í’ˆëª©                                        [+ í’ˆëª© ì¶”ê°€]   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ ê¸°íš/ì„¤ê³„                                             â”‚   â”‚
â”‚ â”‚ [ê¸°íš ë° ì™€ì´ì–´í”„ë ˆì„ ì‘ì„±      ] ìˆ˜ëŸ‰[1] ë‹¨ê°€[500,000]â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ ë””ìì¸                                                â”‚   â”‚
â”‚ â”‚ [ë©”ì¸ + ì„œë¸Œ 5í˜ì´ì§€ ë””ìì¸     ] ìˆ˜ëŸ‰[1] ë‹¨ê°€[1,500,000]â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ ê°œë°œ                                                  â”‚   â”‚
â”‚ â”‚ [í”„ë¡ íŠ¸ì—”ë“œ + ë°±ì—”ë“œ ê°œë°œ       ] ìˆ˜ëŸ‰[1] ë‹¨ê°€[2,000,000]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚ ê³µê¸‰ê°€ì•¡: 4,000,000ì›                                       â”‚
â”‚ ë¶€ê°€ì„¸ (10%): 400,000ì›                                     â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚ í•©ê³„: 4,400,000ì›                                           â”‚
â”‚                                          [â† ì´ì „] [ë‹¤ìŒ â†’] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 3: ì¡°ê±´ ë° í™•ì¸
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“‹ ê²¬ì ì„œ ì‘ì„±                              Step 3/3        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ìœ íš¨ê¸°ê°„                                                    â”‚
â”‚ [ 2024-01-15 ] ~ [ 2024-01-29 ] (14ì¼)                     â”‚
â”‚                                                             â”‚
â”‚ ê²°ì œ ì¡°ê±´                                                   â”‚
â”‚ [ ê³„ì•½ê¸ˆ 30% ì„ ê¸‰, ì”ê¸ˆ 70% ì™„ë£Œ í›„                     ]   â”‚
â”‚                                                             â”‚
â”‚ ë‚©í’ˆ ì¡°ê±´                                                   â”‚
â”‚ [ ìµœì¢… ì‚°ì¶œë¬¼ Google Drive ê³µìœ                          ]   â”‚
â”‚                                                             â”‚
â”‚ ë¹„ê³                                                         â”‚
â”‚ [ ìˆ˜ì • 2íšŒ í¬í•¨, ì¶”ê°€ ìˆ˜ì • ë³„ë„ í˜‘ì˜                    ]   â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“„ ë¯¸ë¦¬ë³´ê¸°                                             â”‚ â”‚
â”‚ â”‚ [ê²¬ì ì„œ í”„ë¦¬ë·° ì¶•ì†ŒíŒ]                                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                             â”‚
â”‚                            [â† ì´ì „] [ì´ˆì•ˆ ì €ì¥] [ë°œì†¡í•˜ê¸°]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í’ˆëª© ìë™ì™„ì„± (ìì£¼ ì“°ëŠ” í’ˆëª©)

```typescript
interface FrequentItem {
  id: string;
  name: string;
  description?: string;
  defaultQuantity: number;
  defaultUnitPrice: number;
  unit: string;
  category?: string;
}

// ì˜ˆì‹œ
const frequentItems: FrequentItem[] = [
  { id: '1', name: 'ê¸°íš/ì„¤ê³„', defaultQuantity: 1, defaultUnitPrice: 500000, unit: 'ì‹' },
  { id: '2', name: 'UI/UX ë””ìì¸', defaultQuantity: 1, defaultUnitPrice: 1500000, unit: 'ì‹' },
  { id: '3', name: 'í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ', defaultQuantity: 1, defaultUnitPrice: 2000000, unit: 'ì‹' },
  { id: '4', name: 'ë°±ì—”ë“œ ê°œë°œ', defaultQuantity: 1, defaultUnitPrice: 2000000, unit: 'ì‹' },
  { id: '5', name: 'ìœ ì§€ë³´ìˆ˜ (ì›”)', defaultQuantity: 1, defaultUnitPrice: 300000, unit: 'ì›”' },
];
```

---

## 3. ë¬¸ì„œ íë¦„ ì„¤ê³„

### 3.1 ìƒíƒœ ì „ì´ë„

```
ê²¬ì ì„œ (Quote)
  draft â†’ sent â†’ viewed â†’ approved â†’ (Contract ìƒì„±)
                       â†˜ rejected

ê³„ì•½ì„œ (Contract)
  draft â†’ sent â†’ (ì–‘ì¸¡ ì„œëª…) â†’ approved â†’ (Invoice ìƒì„± ê°€ëŠ¥)
             â†˜ rejected

ì¸ë³´ì´ìŠ¤ (Invoice)
  draft â†’ sent â†’ viewed â†’ paid â†’ (TaxInvoice ìƒì„± ê°€ëŠ¥)
                      â†˜ partial (ë¶€ë¶„ ê²°ì œ)
                      â†˜ overdue (ì—°ì²´)

ì„¸ê¸ˆê³„ì‚°ì„œ (TaxInvoice)
  draft â†’ submitted â†’ approved (êµ­ì„¸ì²­ ìŠ¹ì¸)
                   â†˜ rejected (ë°˜ë ¤)
```

### 3.2 ìë™ ì „í™˜ UI

```
ê²¬ì ì„œ ìŠ¹ì¸ë¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… ê²¬ì ì„œê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!                                 â”‚
â”‚                                                             â”‚
â”‚ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰í•˜ì„¸ìš”:                                     â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚ â”‚ ğŸ“ ê³„ì•½ì„œ ì‘ì„±í•˜ê¸° â”‚  â”‚ ğŸ’³ ë°”ë¡œ ì¸ë³´ì´ìŠ¤   â”‚              â”‚
â”‚ â”‚ (ê¶Œì¥)             â”‚  â”‚ ë°œí–‰í•˜ê¸°           â”‚              â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                             â”‚
â”‚ ê²¬ì ì„œ ë‚´ìš©ì´ ê³„ì•½ì„œ/ì¸ë³´ì´ìŠ¤ì— ìë™ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ì¸ë³´ì´ìŠ¤ ê²°ì œ ì™„ë£Œ
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… ê²°ì œê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤!                                   â”‚
â”‚                                                             â”‚
â”‚ ì…ê¸ˆì•¡: â‚©4,400,000                                          â”‚
â”‚ ì…ê¸ˆì¼: 2024-01-20                                          â”‚
â”‚                                                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”‚
â”‚ â”‚ ğŸ§¾ ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ â”‚                                      â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
â”‚                                                             â”‚
â”‚ ì„¸ê¸ˆê³„ì‚°ì„œ ë°œí–‰ í›„ êµ­ì„¸ì²­ì— ì „ì†¡ë©ë‹ˆë‹¤                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.3 ë¬¸ì„œ ì²´ì¸ ì—°ê²° ë¡œì§

```typescript
// ê²¬ì ì„œ â†’ ê³„ì•½ì„œ ìƒì„±
function createContractFromQuote(quote: Quote): Partial<Contract> {
  return {
    quoteId: quote.id,
    clientId: quote.clientId,
    client: quote.client,
    title: `${quote.title} ê³„ì•½ì„œ`,
    projectName: quote.title,
    items: quote.items,
    subtotal: quote.subtotal,
    taxAmount: quote.taxAmount,
    totalAmount: quote.totalAmount,
    // ê¸°ë³¸ ê²°ì œ ì¼ì • (ê³„ì•½ê¸ˆ 30%, ì”ê¸ˆ 70%)
    paymentSchedule: [
      { name: 'ê³„ì•½ê¸ˆ', percentage: 30, amount: quote.totalAmount * 0.3, status: 'pending' },
      { name: 'ì”ê¸ˆ', percentage: 70, amount: quote.totalAmount * 0.7, status: 'pending' },
    ],
  };
}

// ê³„ì•½ì„œ â†’ ì¸ë³´ì´ìŠ¤ ìƒì„± (íšŒì°¨ë³„)
function createInvoiceFromContract(
  contract: Contract,
  scheduleId: string
): Partial<Invoice> {
  const schedule = contract.paymentSchedule.find(s => s.id === scheduleId);
  return {
    contractId: contract.id,
    clientId: contract.clientId,
    client: contract.client,
    title: `${contract.projectName} - ${schedule.name}`,
    items: [{
      id: generateId(),
      name: `${contract.projectName} - ${schedule.name}`,
      quantity: 1,
      unitPrice: schedule.amount,
      amount: schedule.amount,
    }],
    subtotal: schedule.amount,
    taxAmount: schedule.amount * 0.1,
    totalAmount: schedule.amount * 1.1,
  };
}

// ì¸ë³´ì´ìŠ¤ â†’ ì„¸ê¸ˆê³„ì‚°ì„œ ìƒì„±
function createTaxInvoiceFromInvoice(
  invoice: Invoice,
  businessProfile: BusinessProfile
): Partial<TaxInvoice> {
  return {
    invoiceId: invoice.id,
    provider: {
      businessNumber: businessProfile.businessNumber,
      name: businessProfile.name,
      representativeName: businessProfile.representativeName,
      address: businessProfile.address,
      businessType: businessProfile.businessType,
      businessCategory: businessProfile.businessCategory,
      email: businessProfile.email,
    },
    clientId: invoice.clientId,
    client: invoice.client,
    items: invoice.items.map(item => ({
      id: item.id,
      date: new Date().toISOString(),
      name: item.name,
      quantity: item.quantity,
      unitPrice: item.unitPrice,
      supplyAmount: item.amount,
      taxAmount: item.amount * 0.1,
    })),
    subtotal: invoice.subtotal,
    taxAmount: invoice.taxAmount,
    totalAmount: invoice.totalAmount,
    issueDate: new Date().toISOString(),
    issueType: 'regular',
  };
}
```

---

## 4. Supabase ìŠ¤í‚¤ë§ˆ ì„¤ê³„

### 4.1 í…Œì´ë¸” êµ¬ì¡°

```sql
-- ì‚¬ì—…ì í”„ë¡œí•„ (ì‚¬ìš©ìë³„ 1ê°œ)
CREATE TABLE business_profiles (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL UNIQUE,

  business_number VARCHAR(12),          -- 000-00-00000
  name VARCHAR(100) NOT NULL,
  representative_name VARCHAR(50),
  email VARCHAR(255) NOT NULL,
  phone VARCHAR(20),
  address TEXT,
  business_type VARCHAR(50),
  business_category VARCHAR(50),

  -- ê²°ì œ ì •ë³´
  bank_name VARCHAR(50),
  account_number VARCHAR(50),
  account_holder VARCHAR(50),

  -- ë¬¸ì„œ ì„¤ì •
  quote_prefix VARCHAR(10) DEFAULT 'Q',
  contract_prefix VARCHAR(10) DEFAULT 'C',
  invoice_prefix VARCHAR(10) DEFAULT 'I',
  default_valid_days INT DEFAULT 14,
  default_payment_days INT DEFAULT 30,
  default_tax_rate DECIMAL(5,2) DEFAULT 10,

  -- ë¸Œëœë”©
  logo_url TEXT,
  primary_color VARCHAR(7) DEFAULT '#3B82F6',

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ê³ ê°
CREATE TABLE clients (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,

  type VARCHAR(20) NOT NULL CHECK (type IN ('individual', 'business')),
  name VARCHAR(100) NOT NULL,
  business_number VARCHAR(12),
  representative_name VARCHAR(50),

  email VARCHAR(255) NOT NULL,
  phone VARCHAR(20),
  address TEXT,

  business_type VARCHAR(50),
  business_category VARCHAR(50),

  notes TEXT,
  tags TEXT[],

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),

  UNIQUE(user_id, email)
);

-- ê²¬ì ì„œ
CREATE TABLE quotes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,
  client_id UUID REFERENCES clients NOT NULL,

  document_number VARCHAR(20) NOT NULL,
  status VARCHAR(20) DEFAULT 'draft',

  title VARCHAR(200) NOT NULL,
  items JSONB NOT NULL DEFAULT '[]',

  subtotal DECIMAL(15,2) NOT NULL,
  tax_amount DECIMAL(15,2) NOT NULL,
  total_amount DECIMAL(15,2) NOT NULL,

  valid_until DATE NOT NULL,
  payment_terms TEXT,
  delivery_terms TEXT,
  notes TEXT,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  sent_at TIMESTAMPTZ,
  viewed_at TIMESTAMPTZ,
  approved_at TIMESTAMPTZ,

  linked_contract_id UUID REFERENCES contracts,

  UNIQUE(user_id, document_number)
);

-- ê³„ì•½ì„œ
CREATE TABLE contracts (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,
  client_id UUID REFERENCES clients NOT NULL,
  quote_id UUID REFERENCES quotes,

  document_number VARCHAR(20) NOT NULL,
  status VARCHAR(20) DEFAULT 'draft',

  title VARCHAR(200) NOT NULL,
  project_name VARCHAR(200) NOT NULL,
  project_description TEXT,

  items JSONB NOT NULL DEFAULT '[]',
  subtotal DECIMAL(15,2) NOT NULL,
  tax_amount DECIMAL(15,2) NOT NULL,
  total_amount DECIMAL(15,2) NOT NULL,

  start_date DATE NOT NULL,
  end_date DATE NOT NULL,

  payment_schedule JSONB NOT NULL DEFAULT '[]',
  clauses JSONB NOT NULL DEFAULT '[]',

  provider_signature JSONB,
  client_signature JSONB,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  signed_at TIMESTAMPTZ,

  UNIQUE(user_id, document_number)
);

-- ì¸ë³´ì´ìŠ¤
CREATE TABLE invoices (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,
  client_id UUID REFERENCES clients NOT NULL,
  quote_id UUID REFERENCES quotes,
  contract_id UUID REFERENCES contracts,
  payment_schedule_id VARCHAR(50),

  document_number VARCHAR(20) NOT NULL,
  status VARCHAR(20) DEFAULT 'draft',

  title VARCHAR(200) NOT NULL,
  items JSONB NOT NULL DEFAULT '[]',

  subtotal DECIMAL(15,2) NOT NULL,
  tax_amount DECIMAL(15,2) NOT NULL,
  total_amount DECIMAL(15,2) NOT NULL,

  due_date DATE NOT NULL,
  payment_status VARCHAR(20) DEFAULT 'pending',
  payment_method VARCHAR(20),
  paid_amount DECIMAL(15,2) DEFAULT 0,
  paid_at TIMESTAMPTZ,

  payment_info JSONB NOT NULL,
  notes TEXT,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),
  sent_at TIMESTAMPTZ,

  linked_tax_invoice_id UUID REFERENCES tax_invoices,

  UNIQUE(user_id, document_number)
);

-- ì„¸ê¸ˆê³„ì‚°ì„œ
CREATE TABLE tax_invoices (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,
  client_id UUID REFERENCES clients NOT NULL,
  invoice_id UUID REFERENCES invoices,

  document_number VARCHAR(50) NOT NULL,
  status VARCHAR(20) DEFAULT 'draft',

  provider_info JSONB NOT NULL,

  items JSONB NOT NULL DEFAULT '[]',
  subtotal DECIMAL(15,2) NOT NULL,
  tax_amount DECIMAL(15,2) NOT NULL,
  total_amount DECIMAL(15,2) NOT NULL,

  issue_date DATE NOT NULL,
  issue_type VARCHAR(20) DEFAULT 'regular',

  nts_submitted_at TIMESTAMPTZ,
  nts_approval_number VARCHAR(50),
  nts_status VARCHAR(20) DEFAULT 'pending',

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW(),

  UNIQUE(user_id, document_number)
);

-- ìì£¼ ì“°ëŠ” í’ˆëª©
CREATE TABLE frequent_items (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,

  name VARCHAR(100) NOT NULL,
  description TEXT,
  default_quantity DECIMAL(10,2) DEFAULT 1,
  default_unit_price DECIMAL(15,2) NOT NULL,
  unit VARCHAR(20) DEFAULT 'ê°œ',
  category VARCHAR(50),

  usage_count INT DEFAULT 0,

  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- ë¬¸ì„œ ì´ë²¤íŠ¸ ë¡œê·¸
CREATE TABLE document_events (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  user_id UUID REFERENCES auth.users NOT NULL,

  document_type VARCHAR(20) NOT NULL,
  document_id UUID NOT NULL,

  event_type VARCHAR(20) NOT NULL,
  description TEXT,
  metadata JSONB,

  occurred_at TIMESTAMPTZ DEFAULT NOW()
);

-- ì¸ë±ìŠ¤
CREATE INDEX idx_clients_user ON clients(user_id);
CREATE INDEX idx_quotes_user ON quotes(user_id);
CREATE INDEX idx_quotes_client ON quotes(client_id);
CREATE INDEX idx_quotes_status ON quotes(status);
CREATE INDEX idx_contracts_user ON contracts(user_id);
CREATE INDEX idx_invoices_user ON invoices(user_id);
CREATE INDEX idx_invoices_status ON invoices(payment_status);
CREATE INDEX idx_tax_invoices_user ON tax_invoices(user_id);
CREATE INDEX idx_document_events_user ON document_events(user_id);
CREATE INDEX idx_document_events_document ON document_events(document_type, document_id);

-- RLS ì •ì±…
ALTER TABLE business_profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE clients ENABLE ROW LEVEL SECURITY;
ALTER TABLE quotes ENABLE ROW LEVEL SECURITY;
ALTER TABLE contracts ENABLE ROW LEVEL SECURITY;
ALTER TABLE invoices ENABLE ROW LEVEL SECURITY;
ALTER TABLE tax_invoices ENABLE ROW LEVEL SECURITY;
ALTER TABLE frequent_items ENABLE ROW LEVEL SECURITY;
ALTER TABLE document_events ENABLE ROW LEVEL SECURITY;

-- ë³¸ì¸ ë°ì´í„°ë§Œ ì ‘ê·¼ ê°€ëŠ¥
CREATE POLICY "Users can only access their own data" ON business_profiles
  FOR ALL USING (auth.uid() = user_id);

CREATE POLICY "Users can only access their own clients" ON clients
  FOR ALL USING (auth.uid() = user_id);

-- (ë‚˜ë¨¸ì§€ í…Œì´ë¸”ë„ ë™ì¼í•œ ì •ì±… ì ìš©)
```

### 4.2 ë¬¸ì„œ ë²ˆí˜¸ ìë™ ìƒì„±

```sql
-- ì—°ë„ë³„ ë¬¸ì„œ ë²ˆí˜¸ ì‹œí€€ìŠ¤
CREATE OR REPLACE FUNCTION generate_document_number(
  p_user_id UUID,
  p_prefix VARCHAR,
  p_year INT DEFAULT EXTRACT(YEAR FROM NOW())
)
RETURNS VARCHAR AS $$
DECLARE
  v_count INT;
  v_number VARCHAR;
BEGIN
  -- í•´ë‹¹ ì—°ë„ì˜ ë¬¸ì„œ ìˆ˜ ì¡°íšŒ
  SELECT COUNT(*) + 1 INTO v_count
  FROM (
    SELECT id FROM quotes WHERE user_id = p_user_id AND EXTRACT(YEAR FROM created_at) = p_year
    UNION ALL
    SELECT id FROM contracts WHERE user_id = p_user_id AND EXTRACT(YEAR FROM created_at) = p_year
    UNION ALL
    SELECT id FROM invoices WHERE user_id = p_user_id AND EXTRACT(YEAR FROM created_at) = p_year
  ) docs;

  v_number := p_prefix || '-' || p_year || '-' || LPAD(v_count::TEXT, 4, '0');

  RETURN v_number;
END;
$$ LANGUAGE plpgsql;
```

---

## 5. API ì„¤ê³„

### 5.1 ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

```
# ê³ ê°
GET    /api/clients           # ëª©ë¡ (ê²€ìƒ‰, í˜ì´ì§€ë„¤ì´ì…˜)
POST   /api/clients           # ìƒì„±
GET    /api/clients/:id       # ìƒì„¸
PUT    /api/clients/:id       # ìˆ˜ì •
DELETE /api/clients/:id       # ì‚­ì œ

# ê²¬ì ì„œ
GET    /api/quotes            # ëª©ë¡
POST   /api/quotes            # ìƒì„±
GET    /api/quotes/:id        # ìƒì„¸
PUT    /api/quotes/:id        # ìˆ˜ì •
DELETE /api/quotes/:id        # ì‚­ì œ
POST   /api/quotes/:id/send   # ë°œì†¡
POST   /api/quotes/:id/approve # ìŠ¹ì¸ (ê³µê°œ ë§í¬ì—ì„œ)
POST   /api/quotes/:id/reject  # ê±°ì ˆ

# ê³„ì•½ì„œ
GET    /api/contracts         # ëª©ë¡
POST   /api/contracts         # ìƒì„±
POST   /api/contracts/from-quote/:quoteId  # ê²¬ì ì„œì—ì„œ ìƒì„±
GET    /api/contracts/:id     # ìƒì„¸
PUT    /api/contracts/:id     # ìˆ˜ì •
POST   /api/contracts/:id/sign # ì„œëª…

# ì¸ë³´ì´ìŠ¤
GET    /api/invoices          # ëª©ë¡
POST   /api/invoices          # ìƒì„±
POST   /api/invoices/from-contract/:contractId/:scheduleId  # ê³„ì•½ì„œì—ì„œ ìƒì„±
GET    /api/invoices/:id      # ìƒì„¸
PUT    /api/invoices/:id      # ìˆ˜ì •
POST   /api/invoices/:id/mark-paid  # ê²°ì œ í™•ì¸

# ì„¸ê¸ˆê³„ì‚°ì„œ
GET    /api/tax-invoices      # ëª©ë¡
POST   /api/tax-invoices      # ìƒì„±
POST   /api/tax-invoices/from-invoice/:invoiceId  # ì¸ë³´ì´ìŠ¤ì—ì„œ ìƒì„±
GET    /api/tax-invoices/:id  # ìƒì„¸
POST   /api/tax-invoices/:id/submit  # êµ­ì„¸ì²­ ì „ì†¡

# ìì£¼ ì“°ëŠ” í’ˆëª©
GET    /api/frequent-items    # ëª©ë¡
POST   /api/frequent-items    # ìƒì„±
DELETE /api/frequent-items/:id # ì‚­ì œ

# ëŒ€ì‹œë³´ë“œ
GET    /api/dashboard/stats   # í†µê³„
GET    /api/dashboard/recent  # ìµœê·¼ ë¬¸ì„œ

# ì„¤ì •
GET    /api/settings/profile  # ì‚¬ì—…ì ì •ë³´ ì¡°íšŒ
PUT    /api/settings/profile  # ì‚¬ì—…ì ì •ë³´ ìˆ˜ì •
```

### 5.2 ê³µê°œ ë§í¬ (í† í° ê¸°ë°˜)

```
/p/quotes/:token      # ê²¬ì ì„œ ì—´ëŒ + ìŠ¹ì¸/ê±°ì ˆ
/p/contracts/:token   # ê³„ì•½ì„œ ì—´ëŒ + ì„œëª…
/p/invoices/:token    # ì¸ë³´ì´ìŠ¤ ì—´ëŒ + ê²°ì œ í™•ì¸
```

---

## 6. í•˜ì´ë¸Œë¦¬ë“œ ë³‘ë ¬ êµ¬í˜„ ê³„íš

### 6.1 ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ íƒ€ì…/ìŠ¤í‚¤ë§ˆ  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚               â”‚               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚  ê³ ê° CRUD  â”‚ â”‚ ê²¬ì ì„œ í¼   â”‚ â”‚ API ë¼ìš°íŠ¸  â”‚
    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
           â”‚               â”‚               â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
                    â”‚  ë¬¸ì„œ íë¦„   â”‚
                    â”‚  ì—°ê²° ë¡œì§   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 êµ¬í˜„ ìˆœì„œ

```
Phase 1 (ë³‘ë ¬):
â”œâ”€â”€ A. Supabase ìŠ¤í‚¤ë§ˆ ìƒì„±
â”œâ”€â”€ B. ê³ ê° ëª©ë¡/ë“±ë¡ í˜ì´ì§€
â””â”€â”€ C. ê²¬ì ì„œ ì‘ì„± í¼ (Step 1-2)

Phase 2 (ë³‘ë ¬):
â”œâ”€â”€ A. API ë¼ìš°íŠ¸ êµ¬í˜„ (clients, quotes)
â”œâ”€â”€ B. ê²¬ì ì„œ ì‘ì„± í¼ (Step 3)
â””â”€â”€ C. ê³µê°œ ë§í¬ í˜ì´ì§€

Phase 3 (ìˆœì°¨):
â”œâ”€â”€ ë¬¸ì„œ ì „í™˜ ë¡œì§ êµ¬í˜„
â”œâ”€â”€ ê³„ì•½ì„œ/ì¸ë³´ì´ìŠ¤/ì„¸ê¸ˆê³„ì‚°ì„œ í¼
â””â”€â”€ ì „ì²´ í†µí•© í…ŒìŠ¤íŠ¸
```

---

## 7. íŒŒì¼ êµ¬ì¡°

```
apps/ade/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts              # GET, POST
â”‚   â”‚   â”‚   â””â”€â”€ [id]/route.ts         # GET, PUT, DELETE
â”‚   â”‚   â”œâ”€â”€ quotes/
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â”œâ”€â”€ route.ts
â”‚   â”‚   â”‚       â”œâ”€â”€ send/route.ts
â”‚   â”‚   â”‚       â””â”€â”€ approve/route.ts
â”‚   â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ invoices/
â”‚   â”‚   â”œâ”€â”€ tax-invoices/
â”‚   â”‚   â”œâ”€â”€ frequent-items/
â”‚   â”‚   â””â”€â”€ dashboard/
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”œâ”€â”€ page.tsx                  # ëŒ€ì‹œë³´ë“œ í™ˆ
â”‚   â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx              # ëª©ë¡
â”‚   â”‚   â”‚   â”œâ”€â”€ new/page.tsx          # ë“±ë¡
â”‚   â”‚   â”‚   â””â”€â”€ [id]/
â”‚   â”‚   â”‚       â”œâ”€â”€ page.tsx          # ìƒì„¸
â”‚   â”‚   â”‚       â””â”€â”€ edit/page.tsx     # ìˆ˜ì •
â”‚   â”‚   â”œâ”€â”€ quotes/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ new/page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ [id]/page.tsx
â”‚   â”‚   â”œâ”€â”€ contracts/
â”‚   â”‚   â”œâ”€â”€ invoices/
â”‚   â”‚   â”œâ”€â”€ tax-invoices/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚       â””â”€â”€ page.tsx              # ì‚¬ì—…ì ì •ë³´
â”‚   â”‚
â”‚   â””â”€â”€ p/                            # ê³µê°œ ë§í¬
â”‚       â”œâ”€â”€ quotes/[token]/page.tsx
â”‚       â”œâ”€â”€ contracts/[token]/page.tsx
â”‚       â””â”€â”€ invoices/[token]/page.tsx
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ types/index.ts                # íƒ€ì… ì •ì˜ (ì™„ë£Œ)
â”‚   â”œâ”€â”€ templates/                    # í…œí”Œë¦¿ ì»´í¬ë„ŒíŠ¸ (ì™„ë£Œ)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ forms/
â”‚   â”‚   â”‚   â”œâ”€â”€ ClientForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ QuoteForm.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ItemInput.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ClientSelect.tsx
â”‚   â”‚   â””â”€â”€ ui/
â”‚   â”‚       â”œâ”€â”€ DocumentCard.tsx
â”‚   â”‚       â”œâ”€â”€ StatusBadge.tsx
â”‚   â”‚       â””â”€â”€ AmountSummary.tsx
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase.ts               # Supabase í´ë¼ì´ì–¸íŠ¸
â”‚   â”‚   â”œâ”€â”€ document-flow.ts          # ë¬¸ì„œ ì „í™˜ ë¡œì§
â”‚   â”‚   â””â”€â”€ utils.ts                  # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ hooks/
â”‚       â”œâ”€â”€ useClients.ts
â”‚       â”œâ”€â”€ useQuotes.ts
â”‚       â””â”€â”€ useDocumentFlow.ts
â”‚
â””â”€â”€ supabase/
    â””â”€â”€ migrations/
        â””â”€â”€ 001_initial_schema.sql
```

---

## ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] íƒ€ì… ì‹œìŠ¤í…œ (types/index.ts)
- [x] í…œí”Œë¦¿ 4ì¢… (QuoteTemplate, ContractTemplate, InvoiceTemplate, TaxInvoiceTemplate)
- [x] ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ
- [ ] Supabase ìŠ¤í‚¤ë§ˆ
- [ ] ê³ ê° CRUD
- [ ] ê²¬ì ì„œ í¼
- [ ] ë¬¸ì„œ ì „í™˜ ë¡œì§
- [ ] API ë¼ìš°íŠ¸
- [ ] ê³µê°œ ë§í¬
